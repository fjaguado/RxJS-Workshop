<div class="d-flex row">
  <app-code-tabs></app-code-tabs>
  <app-info-section
    [selectedData]="REPLAY_SUBJECT_SECTION[0]"
  ></app-info-section>
  <app-info-section
    [selectedData]="REPLAY_SUBJECT_SECTION[1]"
  ></app-info-section>
  <app-info-section
    [selectedData]="REPLAY_SUBJECT_SECTION[3]"
  ></app-info-section>
  <app-info-section
    [selectedData]="REPLAY_SUBJECT_SECTION[2]"
  ></app-info-section>
  <div class="pb-4">
    <app-info-section
      [selectedData]="REPLAY_SUBJECT_SECTION[5]"
    ></app-info-section>
    <div class="pt-3 d-flex column gap-3">
      <div class="row">
        <div class="row align-content-center">
          <div class="form-text">Set an amount of values to be recorded!</div>
          <div class="input-group align-items-center">
            <input
              type="number"
              min="1"
              class="form-control"
              placeholder="Amount"
              name="amountOfRecords"
              [(ngModel)]="amountOfRecords"
              [disabled]="subjectExecuted"
            />
          </div>
        </div>
        <div class="row align-content-center">
          <div class="form-text">
            Set in ms the time that data will be stored!
          </div>
          <div class="input-group align-items-center">
            <input
              type="number"
              min="1"
              class="form-control"
              placeholder="Window time"
              name="windowTime"
              [(ngModel)]="windowTime"
              [disabled]="subjectExecuted"
            />
          </div>
        </div>
        <div class="row align-content-center">
          <div class="input-group justify-content-center">
            <button
              class="btn btn-outline-primary"
              type="button"
              (click)="startSubject()"
              [disabled]="subjectExecuted"
            >
              Start ReplaySubject
            </button>
          </div>
        </div>
      </div>
      <div class="row gap-1">
        <div class="form-text">ReplaySubject Observer</div>
        <div class="input-group align-items-center">
          <input
            type="text"
            class="form-control"
            placeholder="Send a value!"
            name="subjectValue"
            [(ngModel)]="subjectValue"
            [disabled]="!subjectExecuted"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="doSendValue()"
            [disabled]="!subjectExecuted"
          >
            Next
          </button>
        </div>
        <div class="form-text">ReplaySubject 1 (Observable / Listener)</div>
        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            disabled
            value="[{{ receivedValue1.toString() }}]"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="openSubscription('obs1')"
            [disabled]="!subjectExecuted"
          >
            Open
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="closeSubscription('obs1')"
            [disabled]="!subjectExecuted"
          >
            Close
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="restartSubscription('obs1')"
            [disabled]="!subjectExecuted"
          >
            Restart
          </button>
        </div>
        <div class="form-text">ReplaySubject 2 (Observable / Listener)</div>
        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            disabled
            value="[{{ receivedValue2.toString() }}]"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="openSubscription('obs2')"
            [disabled]="!subjectExecuted"
          >
            Open
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="closeSubscription('obs2')"
            [disabled]="!subjectExecuted"
          >
            Close
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="restartSubscription('obs2')"
            [disabled]="!subjectExecuted"
          >
            Restart
          </button>
        </div>
        <div class="form-text">ReplaySubject 3 (Observable / Listener)</div>
        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            disabled
            value="[{{ receivedValue3.toString() }}]"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="openSubscription('obs3')"
            [disabled]="!subjectExecuted"
          >
            Open
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="closeSubscription('obs3')"
            [disabled]="!subjectExecuted"
          >
            Close
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="restartSubscription('obs3')"
            [disabled]="!subjectExecuted"
          >
            Restart
          </button>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center py-4 gap-3">
      <button
        class="btn btn-outline-secondary"
        type="button"
        (click)="restartSubject()"
        [disabled]="!subjectExecuted"
      >
        Restart ReplaySubject
      </button>
    </div>
  </div>
  <app-info-section
    [selectedData]="REPLAY_SUBJECT_SECTION[4]"
  ></app-info-section>
</div>
